## Rway тест актуальности

### Начало работы

Для запуска скрипта проверки требуется наличие следующих файлов в одной директории: 

- actuality_test.py
- settings.json
- links1.json
- data.json
- strings.py

#### settings.json

- _proxies_ - можно указать собственные прокси-сервера. Оставьте пустым для использования бесплатных прокси
- _regulars_ - необходимые регулярные выражения
- *format_templates* - шаблоны для форматирования url сайтов (если структура отличается от, например, `base.ru/link/to/card`)


##### Формат прокси
```json
{
    "schema": "https",
    "proxy": "https://127.0.0.1:8080"
}
```

#### string.py
В файле указаны все текстовые переменные, выводимые на печать. Можно изменять на свое усмотрение.
Необходимо сохранить количество фигурных скобок

#### data.json
в файле содержится отрвок иснструкции теста. Конкретно json-obj по пути `["actuality_check"]["regs"]`

#### links1.json
json-obj со структурой
```json
{
    "название_источника_как_в_data": {
        "pagination": "ссылка_на_страницу_пагинации",
        "path": "xpath, по которому можно вытащить страницу объявления из страницы пагинации",
        "item": "ссылка_на_страницу_объявления(не обязательна)"
    }
}
```
Заполнение всех источников из `data` необязательно, непредставленные источники будут помечены как отфильтрованные.

### Результат

Все найденные ошибки в инструкции помещаются в файл errors.json

##### errors.json

Формат ошибки инструкции:
```json
"название_источника": [
    {
        "step": "pagination|item|expr|exprn",
        "query": "шаблон, который (не) должна была найти инструкция, но что-то пошло не так",
        "link": "ссылка на страницу с ошибкой поиска",
        "path(для item)": "xpath выражение для вытаскивания ссылки на объявление",
        "pagination(для item)": "ссылка на пагинацию"
    }
]
```

Формат ошибки обработки:
```json
"название_источника": [
    {
        "Exception": "output питона с ошибкой",
        "content": {
            "инструкции для этого источника"
        },
        "Traceback": "Полный traceback по ошибке"
    }
]
```